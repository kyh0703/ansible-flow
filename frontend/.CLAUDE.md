# ✍️ 1. 구현 작업 원칙

- 비즈니스 로직 구현 작업은 반드시 테스트를 먼저 작성하고 구현하세요.
- SOLID 원칙을 사용해서 구현하세요.
- Clean Architecture를 사용해서 구현하세요.
- Domain-Driven Design을 사용해서 구현하세요.
- Pulumi나 CloudFormation에 설정하는 Description은 영문으로 작성하세요.

# ✍ 2. 코드 품질 원칙

- 단순성: 언제나 복잡한 솔루션보다 가장 단순한 솔루션을 우선시하세요.
- 중복 방지: 코드 중복을 피하고, 가능한 기존 기능을 재사용하세요.(DRY 원칙)
- 가드레일: 테스트 외에는 개발이나 프로덕션 환경에서 모의 데이터를 사용하지 마세요.
- 효율성: 명확성을 희생하지 않으면서 토큰 사용을 최소화하도록 출력을 최적화하세요.

# ✍ 3. 리팩토링

- 리팩토링이 필요한 경우 계획을 설명하고 허락을 받은 다음 진행하세요.
- 코드 구조를 개선하는 것이 목표이며, 기능 변경은 아닙니다.
- 리팩토링 후에는 모든 테스트가 통과하는지 확인하세요.

# ✍ 4. 디버깅

- 디버깅 시에는 원인 및 해결책을 설명하고 허락을 받은 다음 진행하세요.
- 에러 해결이 중요한 것이 아니라 제대로 동작하는 것이 중요합니다.
- 원인이 불분명할 경우 분석을 위해 상세 로그를 추가하세요.

# ✍ 5. 언어

- AWS 리소스에 대한 설명은 영문으로 작성하세요.
- 기술적인 용어나 라이브러리 이름 등은 원문을 유지합니다.
- 간단한 다이어그램은 mermaid를 사용하고, 복잡한 아키텍처 다이어그램은 별도의 svg파일을 생성하고 그걸 문서에 포함시킬것.

# ✍ 6. GIT 커밋

- `--no-verify`를 절대 사용하지마세요.
- 명확하고 일관된 커밋 메시지를 작성하세요.

# ✍ 7. 프론트엔드 개발 원칙

- Next.js App Router 사용시 'use client' 지시어를 적절히 활용하세요.
- 컴포넌트는 가능한 한 서버 컴포넌트로 작성하고, 필요할 때만 클라이언트 컴포넌트로 변경하세요.
- TypeScript strict 모드를 준수하세요.
- 접근성(a11y)을 고려한 컴포넌트를 작성하세요.
- 기존 프로젝트의 코드 스타일과 네이밍 컨벤션을 준수하세요.

# ✍ 8. 상태 관리

- 전역 상태는 Zustand/Redux 등 상태 관리 라이브러리를 사용하세요.
- 로컬 상태는 useState/useReducer를 사용하세요.
- 서버 상태는 React Query/SWR을 사용하여 관리하세요.
- Context는 자주 변경되지 않는 데이터에만 사용하세요.

# ✍ 9. 에러 처리

- try-catch 블록을 적절히 사용하여 에러를 처리하세요.
- 사용자에게 의미있는 에러 메시지를 제공하세요.
- 에러 바운더리를 활용한 컴포넌트 레벨 에러 처리를 구현하세요.
- 네트워크 에러와 비즈니스 로직 에러를 구분하여 처리하세요.

# ✍ 10. 성능 최적화

- 불필요한 리렌더링을 방지하세요 (React.memo, useMemo, useCallback).
- 이미지 최적화를 위해 Next.js Image 컴포넌트를 사용하세요.
- 번들 크기 최적화 및 코드 스플리팅을 적용하세요.
- 지연 로딩(Lazy loading)을 적절히 활용하세요.

# ✍ 11. 보안

- XSS 공격 방지를 위한 적절한 데이터 검증을 수행하세요.
- CSRF 토큰을 활용하세요.
- 민감한 정보를 로깅하지 마세요.
- 환경변수를 통한 설정 관리를 사용하세요.
- API 키나 비밀번호를 코드에 하드코딩하지 마세요.

# ✍ 12. 파일 및 폴더 구조

- 기존 프로젝트 구조 및 네이밍 컨벤션을 준수하세요.
- 컴포넌트는 기능별로 그룹화하세요.
- 유틸리티 함수는 별도 폴더에 분리하세요.
- 상수는 별도 파일로 관리하세요.
- 타입 정의는 명확하고 재사용 가능하게 작성하세요.

# ✍ 13. 테스팅

- 단위 테스트, 통합 테스트, E2E 테스트를 적절히 조합하여 사용하세요.
- 테스트 코드도 프로덕션 코드와 동일한 품질을 유지하세요.
- 테스트는 독립적이고 반복 가능해야 합니다.
- Mock은 필요한 경우에만 사용하고, 실제 동작에 가깝게 작성하세요.

## AI 도구와 TDD 방침 (켄 벡 원칙 기반)

- **테스트 우선 원칙**: AI 에이전트와 작업할 때 반드시 테스트를 먼저 작성하여 기대치를 명확히 설정하세요.
- **테스트 불변성 보호**: AI 에이전트가 테스트를 변경하거나 삭제하지 못하도록 불변 주석(예: `// DO NOT MODIFY - Expected behavior`)으로 보호하세요.
- **테스트 실행 규칙**: 모든 테스트는 변경 없이 항상 실행되어야 하며, 실패 시 반드시 수정해야 합니다.
- **빠른 피드백 루프**: 수많은 테스트가 300ms 안에 실행되어 AI 에이전트의 실수나 의도적 손상을 즉시 감지할 수 있어야 합니다.
- **테스트로 AI 제어**: AI 에이전트의 디자인 감각 부족을 보완하기 위해 테스트를 통해 결합도와 응집력을 유지하세요.
- **TDD의 불안감 해소**: 테스트 케이스를 하나씩 통과시키며 '이건 확실히 작동할 것'이라는 확신을 얻어 개발 불안감을 해소하세요.